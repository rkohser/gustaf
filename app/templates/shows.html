{% extends "base.html" %}
{% from "episode.html" import episode_tr %}

{% block sidebar %}
{% if shows %}
{% for show in shows %}
<button id="state_show_{{show['id']}}" type="button"
        class="btn btn-{% if show['state_count'] == 1 %}{{show['state'].label}}{% else %}warning{% endif %}"
        onclick="gustaf.getEpisodesForShow({{show['id']}}, '{{show['name']}}')">
    {{ show['name'].title() }}
</button>
{% endfor %}
{% else %}
<button type="button" class="btn btn-default">
    Show name
</button>
{% endif %}
{% endblock %}

{% block dashboard %}
{% if started_episodes.exists() %}
<h1>Started watching</h1>
<table class="table table-hover">
    {% for episode in started_episodes %}
    {{ episode_tr(episode, languages, episode['episode_state'] == PlayState.WATCHING) }}
    {% endfor %}
</table>
{% endif %}

{% if next_episodes.exists() %}
<h1>Next episodes</h1>
<table class="table table-hover">
    {% for episode in next_episodes %}
    {{ episode_tr(episode, languages, episode['episode_state'] == PlayState.WATCHING) }}
    {% endfor %}
</table>
{% endif %}
{% endblock %}